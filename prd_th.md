# เอกสารกำหนดความต้องการของผลิตภัณฑ์ (PRD)
## Mangpong Trading PWA

**เวอร์ชัน:** 1.0  
**วันที่:** 15 กันยายน 2568  
**ผู้จัดการผลิตภัณฑ์:**  
**ทีมพัฒนา:**

---

## 1. สรุปผู้บริหาร

### 1.1 ภาพรวมของผลิตภัณฑ์
Mangpong Trading PWA เป็นแอปพลิเคชันเว็บแบบ Progressive ที่ออกแบบมาสำหรับบริษัท Mangpong Trading เพื่อปรับปรุงกระบวนการทำงานจัดส่ง แอปพลิเคชันนี้ช่วยให้ผู้ส่งของ ผู้ปฏิบัติงาน และเจ้าของกิจการสามารถบันทึก ติดตาม และจัดการงานจัดส่งได้อย่างมีประสิทธิภาพ พร้อมการผสานรวมกับ Google Sheets สำหรับการจัดเก็บข้อมูล

### 1.2 วัตถุประสงค์ทางธุรกิจ
- ทำให้กระบวนการบันทึกงานเป็นดิจิทัลเพื่อกำจัดขั้นตอนการทำงานแบบใช้กระดาษ
- ปรับปรุงความแม่นยำของข้อมูลและลดข้อผิดพลาดในการบันทึกงาน
- เปิดใช้งานการติดตามสถานะงานและตัวชี้วัดประสิทธิภาพแบบเรียลไทม์
- อำนวยความสะดวกในการคำนวณเงินเดือนที่โปร่งใสตามสัดส่วนค่าคอมมิชชั่น 70/30
- จัดเตรียมฟังก์ชันการทำงานแบบออฟไลน์สำหรับการทำงานในสนามพร้อมการซิงค์อัตโนมัติเมื่อออนไลน์

### 1.3 ผู้ใช้งานเป้าหมาย
1. **ผู้ส่งของ** (7 ฟีเจอร์)
   - บันทึกงานจัดส่ง
   - ติดตามสถานะงาน
   - ดูประวัติงาน
   - จัดการงานร่าง
   - คำนวณรายได้
   - ส่งออกรายงานงาน
   - บันทึกงานแบบออฟไลน์

2. **พนักงาน/ผู้ดูแลระบบ** (5 ฟีเจอร์)
   - จัดการบันทึกงาน
   - สร้างรายงาน
   - ติดตามประสิทธิภาพของผู้ส่งของ
   - จัดการงานที่ไม่สมบูรณ์
   - การจัดการผู้ใช้

3. **เจ้าของกิจการ** (4 ฟีเจอร์)
   - ดูการวิเคราะห์ธุรกิจ
   - ติดตามประสิทธิภาพทางการเงิน
   - ติดตามประสิทธิภาพของพนักงาน
   - เข้าถึงข้อมูลเงินเดือน

---

## 2. ความต้องการของผลิตภัณฑ์

### 2.1 ความต้องการเชิงฟังก์ชัน

#### 2.1.1 การตรวจสอบสิทธิ์ผู้ใช้
| ฟีเจอร์ | คำอธิบาย | ความสำคัญ |
|---------|-------------|----------|
| การลงทะเบียนผู้ใช้ | ผู้ใช้ใหม่สามารถลงทะเบียนด้วยชื่อผู้ใช้ รหัสผ่าน ชื่อ-นามสกุล โทรศัพท์ และอีเมล | สูง |
| การเข้าสู่ระบบ | ผู้ใช้ที่ลงทะเบียนแล้วสามารถเข้าสู่ระบบได้อย่างปลอดภัย | สูง |
| การจัดการเซสชัน | รักษาเซสชันผู้ใช้พร้อมการหมดเวลาอัตโนมัติ | ปานกลาง |

#### 2.1.2 การจัดการงาน
| ฟีเจอร์ | คำอธิบาย | ความสำคัญ |
|---------|-------------|----------|
| สร้างงานใหม่ | ผู้ใช้สามารถสร้างงานจัดส่งใหม่พร้อมรายละเอียดครบถ้วน | สูง |
| รายละเอียดงาน | บันทึกข้อมูลบริษัท ข้อมูลผู้มอบงาน สถานที่รับของ รายละเอียดการส่ง และจำนวนเงิน | สูง |
| การติดตามสถานะงาน | ติดตามงานตามสถานะ สมบูรณ์ ไม่สมบูรณ์ หรือร่าง | สูง |
| แก้ไขงาน | ผู้ใช้สามารถแก้ไขบันทึกงานที่มีอยู่ | สูง |
| ประวัติงาน | ดูบันทึกงานในอดีตพร้อมความสามารถในการกรอง | สูง |
| ส่งออก PDF | ส่งออกประวัติงานเป็นรูปแบบ PDF | ปานกลาง |

#### 2.1.3 แดชบอร์ดและการวิเคราะห์
| ฟีเจอร์ | คำอธิบาย | ความสำคัญ |
|---------|-------------|----------|
| สถิติประจำวัน | แสดงงานที่บันทึกวันนี้ งานที่เสร็จวันนี้ | สูง |
| รายงานประจำเดือน | แสดงจำนวนงานและแนวโน้มรายเดือน | สูง |
| ตัวชี้วัดประสิทธิภาพ | ติดตามตัวชี้วัดประสิทธิภาพหลัก | ปานกลาง |
| การดำเนินการด่วน | การเข้าถึงฟังก์ชันทั่วไปโดยตรง | ปานกลาง |

#### 2.1.4 ฟังก์ชันการทำงานแบบออฟไลน์
| ฟีเจอร์ | คำอธิบาย | ความสำคัญ |
|---------|-------------|----------|
| การบันทึกงานแบบออฟไลน์ | บันทึกงานแม้ในขณะที่ไม่มีการเชื่อมต่ออินเทอร์เน็ต | สูง |
| คิวคำขอ | จัดคิวคำขอสำหรับการประมวลผลเมื่อออนไลน์ | สูง |
| การซิงค์ข้อมูล | ซิงค์ข้อมูลออฟไลน์โดยอัตโนมัติเมื่อกู้คืนการเชื่อมต่อ | สูง |

#### 2.1.5 เงินเดือนและการจ่ายเงิน
| ฟีเจอร์ | คำอธิบาย | ความสำคัญ |
|---------|-------------|----------|
| การคำนวณค่าคอมมิชชั่น | การคำนวณอัตโนมัติตามสัดส่วน 70/30 | สูง |
| การติดตามเงินเดือนฐาน | ติดตามเงินเดือนฐาน 15,000 บาท | ปานกลาง |
| สรุปรายได้ | แสดงรายได้รวมสำหรับผู้ส่งของ | ปานกลาง |

### 2.2 ความต้องการเชิงไม่ใช่ฟังก์ชัน

#### 2.2.1 ประสิทธิภาพ
- แอปพลิเคชันควรโหลดภายใน 3 วินาทีบนการเชื่อมต่อมือถือเฉลี่ย
- การส่งงานควรเสร็จภายใน 5 วินาทีภายใต้สภาวะปกติ
- การซิงค์ข้อมูลออฟไลน์ควรประมวลผลภายใน 10 วินาทีหลังการกู้คืนการเชื่อมต่อ

#### 2.2.2 ความใช้งานง่าย
- การออกแบบที่ตอบสนองแบบมือถือเป็นหลักที่ปรับให้เหมาะสมกับการโต้ตอบแบบสัมผัส
- รองรับเป้าหมายการสัมผัสขั้นต่ำ 44px สำหรับการเข้าถึง
- อินเทอร์เฟซภาษาไทยด้วยฟอนต์ Prompt สำหรับการอ่านที่ชัดเจน
- การนำทางที่เข้าใจง่ายพร้อมแถบแท็บด้านล่าง

#### 2.2.3 ความน่าเชื่อถือ
- จัดการความล้มเหลวของเครือข่ายอย่างสง่างามพร้อมความสามารถแบบออฟไลน์
- ใช้กลไกลองใหม่สำหรับคำขอที่ล้มเหลว (สูงสุด 3 ครั้ง)
- การตรวจสอบข้อมูลเพื่อป้องกันรายการที่เสียหาย
- การจัดการข้อผิดพลาดพร้อมข้อความที่เป็นมิตรกับผู้ใช้

#### 2.2.4 ความปลอดภัย
- การตรวจสอบสิทธิ์ที่ปลอดภัยพร้อมการแฮชรหัสผ่าน
- การเข้ารหัสข้อมูลขณะส่งผ่านโดยใช้ HTTPS
- การป้องกันต่อช่องโหว่เว็บทั่วไป
- การจัดเก็บโทเค็นการตรวจสอบสิทธิ์อย่างปลอดภัย

#### 2.2.5 ความเข้ากันได้
- รองรับเบราว์เซอร์มือถือสมัยใหม่ (Chrome, Safari, Firefox)
- ความเข้ากันได้กับ iOS และ Android
- ความสามารถของ Progressive Web App (ติดตั้งได้ ใช้งานแบบออฟไลน์ได้)
- การออกแบบที่ตอบสนองสำหรับขนาดหน้าจอที่หลากหลาย

---

## 3. ความต้องการทางเทคนิค

### 3.1 สแต็กเทคโนโลยี Frontend
- **Core:** HTML5, CSS3, JavaScript (ES6+)
- **UI Framework:** Tailwind CSS
- **คุณสมบัติ PWA:** Service workers, Web App Manifest
- **ไลบรารี:** 
  - SweetAlert2 สำหรับการแจ้งเตือน
  - jsPDF สำหรับการส่งออก PDF
  - Google Fonts (Prompt)

### 3.2 Backend และการจัดเก็บข้อมูล
- **Backend:** Google Apps Script
- **ฐานข้อมูล:** Google Sheets
- **API Endpoint:** https://script.google.com/macros/s/AKfycbxZIMrFlOm3IzVSM-PqmgA91v-t48szqLLk9HD0IKdW9FBd3BFJ7SE9Eci6NEBcNa9v/exec

### 3.3 โครงสร้างข้อมูล
งานประกอบด้วยฟิลด์หลักต่อไปนี้:
- รหัสงาน (สร้างอัตโนมัติ)
- ประทับเวลา
- สถานะ (สมบูรณ์ ไม่สมบูรณ์ ร่าง)
- ข้อมูลบริษัท
- รายละเอียดผู้มอบงาน
- สถานที่รับของ (จังหวัด เขต/อำเภอ)
- รายละเอียดการส่ง (บริษัท จังหวัด เขต/อำเภอ ผู้รับ คำอธิบาย)
- จำนวนเงิน (ค่าบริการหลัก ค่าบริการเพิ่มเติม รวม)
- เหตุผลที่ไม่สมบูรณ์ (สำหรับงานที่ไม่สมบูรณ์)

---

## 4. บทบาทผู้ใช้

### 4.1 บทบาทผู้ใช้ผู้ส่งของ
1. ในฐานะผู้ส่งของ ฉันต้องการสร้างบันทึกงานใหม่เพื่อที่จะบันทึกงานจัดส่งของฉัน
2. ในฐานะผู้ส่งของ ฉันต้องการดูประวัติงานของฉันเพื่อที่จะติดตามงานของฉัน
3. ในฐานะผู้ส่งของ ฉันต้องการบันทึกงานเป็นร่างเพื่อที่จะดำเนินการให้เสร็จในภายหลัง
4. ในฐานะผู้ส่งของ ฉันต้องการแก้ไขงานที่ไม่สมบูรณ์เพื่อที่จะแก้ไขข้อผิดพลาดใดๆ
5. ในฐานะผู้ส่งของ ฉันต้องการคำนวณรายได้ของฉันเพื่อที่จะรู้ว่าฉันได้เงินเท่าไร
6. ในฐานะผู้ส่งของ ฉันต้องการบันทึกงานแบบออฟไลน์เพื่อที่จะทำงานในพื้นที่ที่มีการเชื่อมต่อไม่ดี
7. ในฐานะผู้ส่งของ ฉันต้องการส่งออกประวัติงานเป็น PDF เพื่อที่จะแบ่งปันกับผู้อื่น

### 4.2 บทบาทผู้ใช้ผู้ดูแลระบบ
1. ในฐานะผู้ดูแลระบบ ฉันต้องการดูบันทึกงานทั้งหมดเพื่อที่จะติดตามการดำเนินงาน
2. ในฐานะผู้ดูแลระบบ ฉันต้องการสร้างรายงานเพื่อที่จะวิเคราะห์ประสิทธิภาพของธุรกิจ
3. ในฐานะผู้ดูแลระบบ ฉันต้องการจัดการบัญชีผู้ใช้เพื่อที่จะควบคุมการเข้าถึงระบบ
4. ในฐานะผู้ดูแลระบบ ฉันต้องการจัดการงานที่ไม่สมบูรณ์เพื่อที่จะรักษาความแม่นยำของข้อมูล
5. ในฐานะผู้ดูแลระบบ ฉันต้องการติดตามประสิทธิภาพของผู้ส่งของเพื่อที่จะให้คำติชม

### 4.3 บทบาทผู้ใช้เจ้าของกิจการ
1. ในฐานะเจ้าของกิจการ ฉันต้องการดูการวิเคราะห์ธุรกิจเพื่อที่จะเข้าใจประสิทธิภาพของบริษัท
2. ในฐานะเจ้าของกิจการ ฉันต้องการติดตามตัวชี้วัดทางการเงินเพื่อที่จะตัดสินใจอย่างมีข้อมูล
3. ในฐานะเจ้าของกิจการ ฉันต้องการติดตามประสิทธิภาพของพนักงานเพื่อที่จะปรับปรุงการดำเนินงาน
4. ในฐานะเจ้าของกิจการ ฉันต้องการเข้าถึงข้อมูลเงินเดือนเพื่อที่จะประมวลผลการจ่ายเงิน

---

## 5. เกณฑ์การยอมรับ

### 5.1 การสร้างงาน
- ผู้ใช้สามารถสร้างงานใหม่พร้อมฟิลด์ที่จำเป็นทั้งหมดได้สำเร็จ
- ระบบตรวจสอบข้อมูลอินพุตก่อนการส่ง
- งานถูกบันทึกไปยัง Google Sheets พร้อมการจัดรูปแบบที่เหมาะสม
- ผู้ใช้ได้รับการยืนยันของการสร้างงานที่สำเร็จ

### 5.2 การแก้ไขงาน
- ผู้ใช้สามารถเข้าถึงงานที่มีอยู่สำหรับการแก้ไข
- การเปลี่ยนแปลงถูกบันทึกไปยังฐานข้อมูลอย่างเหมาะสม
- ระบบรักษาประวัติงานและการติดตามการตรวจสอบ

### 5.3 ฟังก์ชันการทำงานแบบออฟไลน์
- แอปพลิเคชันทำงานได้อย่างเหมาะสมโดยไม่มีการเชื่อมต่ออินเทอร์เน็ต
- ข้อมูลถูกจัดคิวสำหรับการส่งเมื่อออฟไลน์
- คิวถูกประมวลผลโดยอัตโนมัติเมื่อกู้คืนการเชื่อมต่อ
- ผู้ใช้ได้รับการแจ้งเตือนของการซิงค์ที่สำเร็จ

### 5.4 ความแม่นยำของข้อมูล
- ค่าเงินทั้งหมดถูกคำนวณอย่างถูกต้อง
- สัดส่วนค่าคอมมิชชั่นถูกนำไปใช้อย่างแม่นยำ (70/30)
- ประทับเวลาและวันที่ถูกจัดรูปแบบอย่างเหมาะสม
- ไม่มีการสูญหายของข้อมูลระหว่างการดำเนินการซิงค์

---

## 6. ตัวชี้วัดความสำเร็จ

### 6.1 การมีส่วนร่วมของผู้ใช้
- ผู้ใช้ที่ใช้งานรายวัน (DAU)
- ผู้ใช้ที่ใช้งานรายสัปดาห์ (WAU)
- ผู้ใช้ที่ใช้งานรายเดือน (MAU)
- ระยะเวลาเซสชันเฉลี่ย

### 6.2 ตัวชี้วัดประสิทธิภาพ
- อัตราความสำเร็จในการส่งงาน
- อัตราความสำเร็จในการซิงค์แบบออฟไลน์
- เวลาโหลดเฉลี่ย
- อัตราข้อผิดพลาด

### 6.3 ตัวชี้วัดทางธุรกิจ
- จำนวนงานที่บันทึกต่อวัน
- การลดการใช้กระดาษ
- เวลาที่ประหยัดในการบันทึกงาน
- การปรับปรุงความแม่นยำในการป้อนข้อมูล

---

## 7. ความเสี่ยงและการบรรเทา

### 7.1 ความเสี่ยงทางเทคนิค
| ความเสี่ยง | การบรรเทา |
|------|------------|
| ข้อจำกัดของ Google Sheets API | ใช้การจัดคิวและการแบตช์คำขอ |
| ปัญหาการเชื่อมต่อเครือข่าย | ฟังก์ชันการทำงานแบบออฟไลน์ที่มั่นคงพร้อมการซิงค์ข้อมูล |
| การเสียหายของข้อมูล | การตรวจสอบข้อมูลและการจัดการข้อผิดพลาด |
| การเสื่อมสภาพของประสิทธิภาพ | กลไกแคชและการโหลดแบบ Lazy |

### 7.2 ความเสี่ยงทางธุรกิจ
| ความเสี่ยง | การบรรเทา |
|------|------------|
| การต่อต้านการใช้งานของผู้ใช้ | เอกสารการฝึกอบรมและการสนับสนุน |
| ข้อกังวลด้านความปลอดภัยของข้อมูล | การตรวจสอบสิทธิ์ที่ปลอดภัยและการเข้ารหัส |
| การขึ้นต่อกับบริการของ Google | การตรวจสอบและการสำรองข้อมูลเป็นประจำ |

---

## 8. การปรับปรุงในอนาคต

### 8.1 ฟีเจอร์เฟส 2
- การแจ้งเตือนแบบเรียลไทม์สำหรับการอัปเดตงาน
- แดชบอร์ดการรายงานและการวิเคราะห์ขั้นสูง
- การรองรับหลายภาษา
- การผสานรวมกับ GPS สำหรับการติดตามตำแหน่ง
- การสแกนบาร์โค้ด/QR สำหรับการระบุงาน

### 8.2 ฟีเจอร์เฟส 3
- การใช้งานแอปมือถือแบบ Native
- บทบาทผู้ใช้และสิทธิ์การเข้าถึงขั้นสูง
- การผสานรวมกับแพลตฟอร์มโลจิสติกส์ภายนอก
- การสร้างใบแจ้งหนี้อัตโนมัติ
- ระบบการรวบรวมข้อเสนอแนะจากลูกค้า

---

## 9. คำศัพท์

- **PWA:** Progressive Web Application (แอปพลิเคชันเว็บแบบ Progressive)
- **GAS:** Google Apps Script
- **UI:** User Interface (อินเทอร์เฟซผู้ใช้)
- **API:** Application Programming Interface (อินเทอร์เฟซโปรแกรมแอปพลิเคชัน)
- **PDF:** Portable Document Format